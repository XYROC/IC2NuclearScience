package nuclearscience;

import org.apache.logging.log4j.Logger;

import cpw.mods.fml.common.Mod;
import cpw.mods.fml.common.Mod.Instance;
import cpw.mods.fml.common.ModMetadata;
import cpw.mods.fml.common.SidedProxy;
import cpw.mods.fml.common.event.FMLPreInitializationEvent;
import cpw.mods.fml.common.network.FMLEventChannel;
import cpw.mods.fml.common.network.NetworkRegistry;
import nuclearscience.block.NuclearScienceBlocks;
import nuclearscience.item.NuclearScienceItems;
import nuclearscience.proxy.CommonProxy;
import nuclearscience.tab.CreativeTabNuclearScience;
import nuclearscience.util.GuiHandler;

@Mod(modid = NuclearScience.name, name = "", version = "", dependencies = "required-after:IC2@2.2.828")
public class NuclearScience {
	
	public static final String name = "IC2NuclearScience";
	
	@Instance
	public static NuclearScience instance;
	
	@SidedProxy(serverSide = "nuclearscience.proxy.CommonProxy", clientSide = "nuclearscience.proxy.ClientProxy")
	public static CommonProxy proxy;
	
	public static FMLEventChannel dataChannel;
	
	public static Logger logger;
	
	public static final CreativeTabNuclearScience tab = new CreativeTabNuclearScience();

	@Mod.EventHandler
	public void preInit(FMLPreInitializationEvent event) {
		logger = event.getModLog();
		ModMetadata data = event.getModMetadata();
		data.autogenerated = false;
	}
	
	@Mod.EventHandler
	public void init(FMLPreInitializationEvent event) {
		NuclearScienceItems.registerItems();
		NuclearScienceBlocks.registerBlocks();
		NetworkRegistry.INSTANCE.registerGuiHandler(instance, new GuiHandler());
		dataChannel = NetworkRegistry.INSTANCE.newEventDrivenChannel(NuclearScience.name);
		proxy.load();
		log("IC2NuclearScience has been loaded successfully.");
	}

	@Mod.EventHandler
	public void postInit(FMLPreInitializationEvent event) {}
	
	public static void log(String message) {
		logger.info(message);
	}
	
	public static void error(String message) {
		logger.error(message);
	}
	
	public static void warn(String message) {
		logger.warn(message);
	}

}
